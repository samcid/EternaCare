<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Account</title>
</head>

<body class="background paragraphe">
    <app-navbar (cartIconClick)="toggleSidePanel()"></app-navbar>
    <div class="main-container">
        <div class="left-panel">
            <div class="py-3 py-md-5">
                <div class="container">
                    <div class="row justify-content-md-center">
                        <div class="bg-white p-4 p-md-5 rounded shadow-sm">
                            <form [formGroup]="formReg" (ngSubmit)="onSubmit()">
                                <div class="row gy-3 gy-md-4 overflow-hidden">
                                    <div class="col-12">
                                        <label for="email" class="form-label">Compte</label>
                                        <p>{{ user?.email }}</p>
                                    </div>
                                    <div class="col-12">
                                        <label for="prenom" class="form-label">Prénom <span
                                                class="text-danger">*</span></label>
                                        <input type="text" class="form-control" formControlName="prenom" id="prenom"
                                            required>
                                        <span *ngIf="formReg?.get('prenom')?.invalid && formReg?.get('prenom')?.touched"
                                            class="text-danger">
                                            Le prénom est obligatoire.
                                        </span>
                                    </div>
                                    <div class="col-12">
                                        <label for="nom" class="form-label">Nom <span
                                                class="text-danger">*</span></label>
                                        <input type="text" class="form-control" formControlName="nom" id="nom" required>
                                        <span *ngIf="formReg?.get('nom')?.invalid && formReg?.get('nom')?.touched"
                                            class="text-danger">
                                            Le nom est obligatoire.
                                        </span>
                                        <div class="col-12">
                                            <label for="adresse" class="form-label">Adresse <span
                                                    class="text-danger">*</span></label>
                                            <input type="text" class="form-control" formControlName="adresse"
                                                id="adresse" required (input)="onAddressInput()">
                                            <select id="suggestions" *ngIf="suggestions.length && needSugestion"
                                                class="form-select mt-2" size="5"
                                                (change)="onSuggestionSelected($event)">
                                                <option *ngFor="let suggestion of suggestions"
                                                    [value]="suggestion.display_name">
                                                    {{ suggestion.display_name }}
                                                </option>
                                            </select>
                                            <span
                                                *ngIf="formReg?.get('adresse')?.invalid && formReg?.get('adresse')?.touched"
                                                class="text-danger">
                                                L'adresse est obligatoire.
                                            </span>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <label for="codePostal" class="form-label">Code Postal</label>
                                        <input type="text" class="form-control" formControlName="codePostal"
                                            id="codePostal">
                                    </div>
                                    <div class="col-12">
                                        <label for="ville" class="form-label">Ville</label>
                                        <input type="text" class="form-control" formControlName="ville" id="ville">
                                    </div>
                                    <div class="col-12">
                                        <label for="telephone" class="form-label">Téléphone (optionnel)</label>
                                        <input type="tel" class="form-control" formControlName="telephone"
                                            id="telephone" inputmode="tel">
                                        <span
                                            *ngIf="formReg?.get('telephone')?.invalid && formReg?.get('telephone')?.touched"
                                            class="text-danger">
                                            Le téléphone doit contenir seulement des chiffres et le symbole +.
                                        </span>
                                    </div>
                                    <div class="col-12">
                                        <div class="d-flex justify-content-center">
                                            <button class="btn-blue mx-2" type="submit">GARDER</button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="right-panel">
            <p>Texte de test</p>
        </div>
    </div>
    <app-footer></app-footer>
    <app-side-panel [isOpen]="isSidePanelOpen" (closePanel)="closeSidePanel()"
        (openPanel)="toggleSidePanel()"></app-side-panel>
</body>

</html>